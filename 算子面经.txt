面经——算子篇
【一面】
一面主要是技术面，一般是项目+八股文+coding（+智力题），下面列举一些一面常见问题
（1）项目
    项目主要考察算子开发和调优的经验，一般会根据简历中开发过的算子来问，也可能会问一些flash attention的问题，举例一些问题
    1.讲一下昇腾的硬件，算子的数据通路是怎样的，各个cache的大小，搬运单元的带宽，计算单元的算力是多少，cacheline多大；
    2.用roofline模型分析下你做过的算子，何时compute bound，何时memory bound；
    3.（追问）以matmul为例，理论分析MN较大时，为compute bound，实际达不到，你认为可能原因有哪些；（roofline建模虽然不准，但是还是有面试官喜欢问，建议提前了解下）
    4.算子开发过程中，用到哪些基础的调优算法？（double buffer等）
    5.如何评估一个算子当前性能达到了硬件极限？看哪些指标；（有多种情况，根据算子的bound情况而定，如MTE2 bound算子，查看MTE2是否bound，GM->L1搬运带宽，L2命中率等）
    6.讲一下缓存，片上有哪些缓存，哪些是程序员可以控制，哪些是程序员不能直接控制的；
    7.进一步讲一下哪些情况L2命中率会较低，怎么优化；（swizzle等）
    8.讲一下你做过的算子的tiling方式，核间怎么切分，核内怎么切分？讲一下flash attention怎么tiling，为什么这样tiling；
    9.讲一下fp8，有哪些格式，表示范围分别是多少，有没有调过fp8精度，碰到过哪些问题；
    10.你认为flash attention + fp8训练是否可行，为什么；
    11.如果让你测试一个指令的性能（如exp），没有cmodel，没有profiling工具，怎么测试，讲下原因；
    12.如果让你实现sin，怎么实现，有哪些优化手段；
    13.cuda了解多少，讲下你对cublas，cutlass的理解；（gpgpu公司会问，尤其是软件栈兼容cuda的）
    14.flash attention有没有遇到寄存器不够的情况，如何解决，有没有用汇编写过算子；
    15.昇腾硬件有哪些流水同步方式（核间，核内），你认为流水同步的实现原理是怎样的；
    16.多卡并行的matmul实现方式是什么；（即MC2）
（2）八股文
    一般不会考特别基础的，主要是多态，虚表，内存管理（主要是智能指针），模板相关，萃取，移动语义，右值，lamda表达式等，可以着重准备下C++11后的特性
    比如请你手写一个简单版shared_ptr等（不用考虑线程安全），然后展开问
（3）coding
    1.力扣题
    2.自行出题，如实现一个softmax，然后问有什么问题，引出safe-softmax，继续追问，或实现一个变异的matmul等
【二面】
二面是leader技术面，各公司风格差异比较大，一般看面试官自由发挥，主要是项目方面，可能涉及更广些，比如网络模型，编译器等，也可能考coding，举例一些问题
    1.有没有参与过整网调精度，遇到过哪些问题，怎么解决；
    2.对网络有了解吗，比如lamma的一个transformer block中，含有哪些算子；
    3.coding——实现一个k-means算法
【三面】
三面是HR面，到三面基本成了，别踩雷就行，具体参考小红书
